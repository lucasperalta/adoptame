<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/js/jquery-3.3.1.min.js}"></script>

    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>


</head>

<body>
<header>
	<div class="wrapper col-xs-12 col-sm-12">
		<img class="logo" th:src="@{/img/iconPet.png}" alt="logo"/>
		<div class="logo">Adopta.Me</div>
		<nav>
			<a th:href="@{/}">Inicio</a>
			<a th:href="@{/login}">Admin</a>
		</nav>
	</div>
</header>

		<div class="divisor"></div>
		
		<div class="container-fluid">
			<div class="row">
				<!--Mascotas adoptadas-->
				<div class="col-xs-8 col-sm-3">
					<div class="card ">
						<div class="card-body">
							<img class="logo_masc_adop float-right" th:src="@{/img/iconPet.png}" alt="Logo"/>
							<h2>Mascotas Adoptadas</h2>
						</div>
						<!-- Items Mascotas adoptadas-->
						<div class=" col-sm-12">
							<div class="card item_card off-border">
								<div class="card-body item_body">
									<div class="offset-sm-2 col-sm-3">
										<img class="img_masc_adop float-top" th:src="@{/img/iconPet.png}" alt="Logo"/>
									</div>
									<h2>Nombre</h2>
								</div>
							</div>
						</div>
						<!-- Items Mascotas adoptadas-->
					</div>
				</div>
				<!--FIN Mascotas adoptadas-->

				<!--Lista de Mascotas por Adoptar-->
				<div class="col-sm-5">

					<div class="card" id="mascotaDiv">
                        <h2 class="card-header " >Mascotas En Adopción</h2>

					</div>
				</div>
				<!--FIN Lista de Mascotas por Adoptar-->


                    <!--Eventos Proximos-->
                <div class="card scroll-box ">
						<div class="card-header ">
							<h2>Eventos Próximos</h2>
						</div>
						
						<div class="col-sm-12  ">
							<div class="card-body off-border " id="eventosDiv" >

						</div>
					</div>

				    <!-- FIN Eventos Proximos-->
			</div>
		</div>
	</div>
	<div class="divisor"></div>
<footer>
	<div class="container-fluid">
		<div class="row">
			<div class="col-sm-4">
				<img class="img_contact" th:src="@{/img/contact.png}" alt="contact" />
				<h4>Contacto</h4>
			</div>
			<div class="col-sm-4">
				<h4>Encontranos en:</h4>
				<img class="img_red" th:src="@{/img/facebook.png}" alt="facebook"/>
				<img class="img_red" th:src="@{/img/instagram.png}" alt="instagram" />
			</div>
			<div class="col-sm-4">
				<img class="img_red" th:src="@{/img/playstore.png}" alt="playstore"/>
				<h4 >Descargar APP</h4>
			</div>
		</div>
	</div>
</footer>

<script>
$(document).ready(function () { //Cuando la pagina termina de cargar y esta lista, llama a los que esta aca dentro
cargarMascotasEnAdopcion();
cargarProximosEventos();
});

function cargarProximosEventos() {
    $.ajax({
        type: 'GET',
        url: 'eventos/listarProximos',
        contentType: 'application/json;',
        cache:'false',
        success: function(eventos) {
            console.log(eventos);

            var eventosDiv=  $('#eventosDiv');//Div que contiene el listado de eventos
            $.each( eventos, function( index, evento ) {

               //creo un elemento mascota


                var eventoElem= $('<div class="card-body " > '
                    +'<h3 class="tituloChico">'+evento.dias+' '+evento.horarios+' </h3>'
                    +'<h3 class="tituloChico">'+evento.barrio+'<br/> <span >'+evento.lugar+'</span></h3>'
                    +'<h4 class="descripcion">'+evento.direccion+'</h4>'
                    +'<h4 class="descripcion">'+evento.consultas+'</h4></div>'
                );

                eventosDiv.append(eventoElem);//lo agrego al div del listado de eventos
            });


 },
        error: function(error) {
            console.log(error);
        }
    });
}


function cargarMascotasEnAdopcion() {
    $.ajax({
        type: 'GET',
        url: 'mascotas/mascotasEnAdopcion',
        contentType: 'application/json; charset=utf-8',

        success: function(mascotas) {
            console.log(mascotas);

            var mascotaDiv=  $('#mascotaDiv');//Div que contiene el listado de mascotas
            $.each( mascotas, function( index, mascota ) {

                //creo un elemento mascota


                var mascotaElem= $('<div class="card-body"> <div class="col-sm-3"> <img src="'+mascota.foto_url+'" class=" rounded-circle img_list float-left "/>   </div>'
                    +' <div class="offset-sm-3 col-sm-9">  <h2 class="tit_item">Nombre:' +mascota.nombre+' <span class="edad"> Edad: '+mascota.edad+'</span></h2>'
                    +' <p class="descripcion"> '+mascota.descripcion+'  Raza '+mascota.raza+' Sexo '+mascota.sexo+' Tamaño '+mascota.tamanio+'</p>\n'
                    +' </div></div> '
                );

                mascotaDiv.append(mascotaElem);//lo agrego al div del listado de mascotas
            });


        },
        error: function(error) {
            console.log(error);
        }
    });
}


</script>
</body>
</html>

